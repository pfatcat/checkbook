{"version":3,"sources":["webpack:///webpack/bootstrap c172cc068497fe00e065","webpack:///external \"electron\"","webpack:///./src/helpers/utilities.js","webpack:///external \"path\"","webpack:///./src/services/payee.js","webpack:///./src/data/repo.js","webpack:///external \"fs-jetpack\"","webpack:///./config/env_development.json","webpack:///./src/services/transaction.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./src/services/category.js","webpack:///./src/helpers/enums.js","webpack:///external \"fs\"","webpack:///./src/app.js","webpack:///./src/stylesheets/main.css?890b","webpack:///./src/stylesheets/main.css","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/js-datepicker/datepicker.css?aa94","webpack:///./node_modules/js-datepicker/datepicker.css","webpack:///./src/helpers/context_menu.js","webpack:///./src/helpers/external_links.js","webpack:///./src/controllers/main.js","webpack:///./src/views/main.js","webpack:///external \"crypto\"","webpack:///external \"better-sqlite3\"","webpack:///./node_modules/js-datepicker/datepicker.min.js","webpack:///./src/services/payee_lookup.js","webpack:///./src/services/ofx_importer.js","webpack:///./src/services/qif_importer.js"],"names":["crypto","require","module","exports","createGuid","s4","Math","floor","random","toString","substring","toMMDDYYYY","date","getMonth","getDate","getFullYear","toISODate","mm","dd","yyyy","parseOFXDate","ofxDate","hh","mi","ss","nullToSpace","value","buildReferenceCode","transaction","hashString","payee_name","transaction_date","amount","createHash","update","digest","getPayeeByName","callback","sql","params","trim","repo","getRow","payee","error","getPayeeByReferenceName","reference_name","findPayeeId","payeeName","id","getAllPayees","getData","payees","createPayee","name","defaultCategoryId","executeStatement","createPayeePromise","Promise","resolve","reject","console","findOrCreatePayee","default_category_id","newPayee","utilities","findOrCreatePayeePromise","getAllPayeesPromise","Database","path","dbPath","__dirname","db","stmt","prepare","rows","all","err","handleError","close","row","get","run","log","getTransactions","render_callback","data","saveTransaction","newTransaction","payee_id","memo","category_id","reference_code","saveOFXTransaction","saveQIFTransaction","saveOFXTransactionPromise","saveQIFTransactionPromise","getTransactionByReferenceCode","getCategoryByName","category_name","category","getAllCategories","categories","getAllCategoriesPromise","createCategory","findOrCreateCategory","categoryName","categoryLookups","uncategorized","enums","fetchedCategory","newCategory","findOrCreateCategoryPromise","app","remote","appDir","jetpack","cwd","getAppPath","manifest","read","osMap","win32","darwin","linux","document","querySelector","style","display","Menu","MenuItem","isAnyTextSelected","window","getSelection","cut","label","click","execCommand","copy","paste","normalMenu","append","textEditingMenu","addEventListener","event","target","nodeName","preventDefault","popup","getCurrentWindow","supportExternalLinks","href","isExternal","checkDomElement","element","getAttribute","classList","contains","shell","openExternal","parentElement","ddlCategory","getElementById","options","selectedIndex","transactionDate","Date","payee_service","findOrCreatePayeeId","transaction_service","response","loadTransactions","resetInput","mapOFXTransactions","filename","payeesPromise","categoriesPromise","category_service","transactionPromise","ofxImporter_service","parseOFXfile","promises","then","values","transactions","view","render_transaction_mapping","saveOFXTransactions","str_ofx_transactions","ofx_transactions","JSON","parse","mappingDivs","getElementsByClassName","transactionsToCreate","payeePromises","i","length","transDiv","existingTransaction","targetDiv","targetSelect","new_payee_id","push","payeeLookup","payee_lookup_service","createPayeeLookup","dir","ofx_transaction_promises","promise","closeMappingWindow","alert","importQIF","qifImporter_service","importQIFfile","wireUpEvents","postButton","importButton","importQIFButton","newPayeeLinks","len","lnkNewPayee","saveOFXTransactionsButton","cancelOFXButton","populateElements","buildDatePicker","buildCategoryList","render_transactions","map_import","dateSelected","formatter","el","formattedDate","buildCategoryOptions","innerHTML","onLoad","buildPayeeOptions","selected","option","html","record","stringify","distinctPayees","indexOf","getElement","strTransaction","strElement","parseTransaction","transaction_type","ofx_code","isValidTransaction","fs","filepath","readFile","message","ofx","banktranlist","str_transactions","split","payeeId","buildCategoryLookup","all_transactions","arr_str_transactions","parseTransactionPromises","transaction_elements","parsedTransaction","transaction_element","parseDate","replace","populateTransactionPromise","qif_transactions","qifTransactionPromises","qifTransaction","strDate","payeeCallback","categoryCallback"],"mappings":"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CJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;AC3EA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;AC7WA;;AACA;;AACA;;;;AAEA,MAAME,oBAAoB,UAAUC,aAAV,EAAyB9D,QAAzB,EAAmC;AAE3D,QAAMC,MAAO;;2BAAb;AAIA,QAAMC,SAAS,CAAC4D,aAAD,CAAf;;AAEA1D,gBAAKC,MAAL,CAAYJ,GAAZ,EAAiBC,MAAjB,EAAyB,UAAU6D,QAAV,EAAoB;AAC3C/D,aAAS+D,QAAT;AACD,GAFD;AAGD,CAXD;;AAaA,MAAMC,mBAAmB,UAAUhE,QAAV,EAAoB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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c172cc068497fe00e065","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 0\n// module chunks = 0 1","const crypto = require('crypto');\r\n\r\nmodule.exports = {\r\n  createGuid: function (){\r\n      function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n          .toString(16)\r\n          .substring(1);\r\n      }\r\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n    },\r\n  toMMDDYYYY: function (date){\r\n        return (date.getMonth() + 1) + '/' + date.getDate() + '/' +  date.getFullYear()\r\n  },\r\n  toISODate: function (date){\r\n\r\n          //TEXT as ISO8601 strings (\"YYYY-MM-DD HH:MM:SS.SSS\").\r\n          let mm = date.getMonth() + 1 // getMonth() is zero-based\r\n          let dd = date.getDate()\r\n          const yyyy = date.getFullYear()\r\n\r\n          mm = (mm>9 ? \"\" : \"0\") + mm\r\n          dd = (dd>9 ? \"\" : \"0\") + dd\r\n\r\n          return yyyy + \"-\" + mm + \"-\" + dd + \" 00:00:00.000\"\r\n  },\r\n  parseOFXDate: function(ofxDate){\r\n      const yyyy = ofxDate.substring(0, 4)\r\n      const mm = ofxDate.substring(4, 6)\r\n      const dd = ofxDate.substring(6, 8)\r\n      const hh = ofxDate.substring(8, 10)\r\n      const mi = ofxDate.substring(10, 12)\r\n      const ss = ofxDate.substring(12, 14)\r\n\r\n      return yyyy + \"-\" + mm + \"-\" + dd + \" \" + hh + \":\" + mi + \":\" + ss + \".000\"\r\n  },\r\n  nullToSpace: function(value){\r\n    return value == null ? \"\" : value\r\n  },\r\n  buildReferenceCode: function(transaction){\r\n    const hashString = transaction.payee_name + transaction.transaction_date + transaction.amount\r\n    return crypto.createHash('md5').update(hashString).digest(\"hex\");\r\n  } \r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/utilities.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0 1","import repo from \"../data/repo\";\r\nimport utilities from \"../helpers/utilities.js\";\r\n\r\n\r\nconst getPayeeByName = function (payee_name, callback){\r\n\r\n  const sql = \"SELECT * FROM payees WHERE name = ?\"\r\n\r\n  const params = [payee_name.trim()]\r\n\r\n  repo.getRow(sql, params, function(payee, error){\r\n        callback(payee, error)\r\n      })\r\n}\r\n\r\nconst getPayeeByReferenceName = function (reference_name, callback){\r\n\r\n  const sql = `SELECT p.*\r\n                FROM payee_lookup pl\r\n                JOIN payees p\r\n                  ON pl.payee_id = p.id\r\n                WHERE pl.reference_name = ?`\r\n\r\n  const params = [reference_name]\r\n\r\n  repo.getRow(sql, params, function(payee, error){\r\n      callback(payee, error)\r\n      })\r\n}\r\n\r\nconst findPayeeId = function (payeeName, callback){\r\n\r\n  getPayeeByName(payeeName, function(payee, error){\r\n\r\n      if(payee){\r\n        callback(payee.id, error)\r\n        return\r\n      }\r\n      getPayeeByReferenceName(payeeName, function(payee){\r\n          if(payee){\r\n            callback(payee.id, error)\r\n            return\r\n          }\r\n          callback(null)\r\n      })\r\n  })\r\n}\r\n\r\nconst getAllPayees = function (callback){\r\n\r\n  const sql = `SELECT * FROM payees ORDER BY name`\r\n\r\n  const params = []\r\n\r\n  repo.getData(sql, params, function(payees, error){\r\n        callback(payees, error)\r\n    });\r\n}\r\n\r\nconst createPayee = function(payee, callback){\r\n\r\n    const sql = `INSERT INTO payees(id, name, default_category_id) VALUES(?,?,?)`\r\n\r\n    const params = [payee.id, payee.name, payee.defaultCategoryId]\r\n\r\n    repo.executeStatement(sql, params, function(error){\r\n        callback(error);\r\n    });\r\n}\r\n\r\nconst createPayeePromise = function(payee){\r\n  const createPayeePromise = new Promise(function(resolve, reject) {\r\n    createPayee(payee, function(error){\r\n      if(error){\r\n        console.error(error)\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve()\r\n    })\r\n  });\r\n\r\n  return createPayeePromise\r\n}\r\n\r\n\r\nconst findOrCreatePayee = function(payeeName, default_category_id, callback){\r\n  getPayeeByName(payeeName, function(payee){\r\n    if(payee){\r\n      return callback(payee)\r\n    }\r\n    const newPayee = {\r\n      id: utilities.createGuid(),\r\n      name: payeeName,\r\n      default_category_id: default_category_id\r\n    }\r\n    createPayee(newPayee, function(error){\r\n      if(error){\r\n        console.error(error)\r\n      }\r\n    })\r\n\r\n    //TODO: handle errors...this fire and forget could cause foreign key problems\r\n    callback(newPayee)\r\n  })\r\n}\r\n\r\nconst findOrCreatePayeePromise = function(payeeName, default_category_id){\r\n  return new Promise(function(resolve, reject) {\r\n    findOrCreatePayee(payeeName, default_category_id, function(payee){\r\n      resolve(payee)\r\n    })\r\n  })\r\n}\r\n\r\nconst getAllPayeesPromise = function(){\r\n  return new Promise(function(resolve, reject) {\r\n    getAllPayees(function(payees,error){\r\n      if(error){\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve(payees)\r\n    })\r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  getPayeeByName: getPayeeByName,\r\n\r\n  getPayeeByReferenceName: getPayeeByReferenceName,\r\n\r\n  createPayee: createPayee,\r\n\r\n  createPayeePromise: createPayeePromise,\r\n\r\n  findPayeeId: findPayeeId,\r\n\r\n  getAllPayees: getAllPayees,\r\n\r\n  getAllPayeesPromise: getAllPayeesPromise,\r\n\r\n  findOrCreatePayee: findOrCreatePayee,\r\n\r\n  findOrCreatePayeePromise: findOrCreatePayeePromise\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/payee.js","\r\nconst Database = require('better-sqlite3')\r\nconst path = require('path')\r\nconst dbPath = path.resolve(__dirname, '../src/data/checkbook.db')\r\n\r\nmodule.exports = {\r\n\r\n  getData: function (sql, params, callback){\r\n    const db = new Database(dbPath);\r\n\r\n    try{\r\n      const stmt = db.prepare(sql);\r\n      const rows = stmt.all(params);\r\n      callback(rows)\r\n    }\r\n    catch(err){\r\n      handleError(err, sql, params)\r\n    }\r\n    finally{\r\n      db.close();\r\n    }\r\n  },\r\n\r\n  getRow: function (sql, params, callback){\r\n    const db = new Database(dbPath);\r\n\r\n    try{\r\n      const stmt = db.prepare(sql);\r\n      const row = stmt.get(params);\r\n      callback(row)\r\n    }\r\n    catch(err){\r\n      handleError(err, sql, params)\r\n    }\r\n    finally{\r\n      db.close();\r\n    }\r\n  },\r\n\r\n  executeStatement: function(sql, params, callback){\r\n    const db = new Database(dbPath);\r\n\r\n    try{ \r\n      const stmt = db.prepare(sql);\r\n      stmt.run(params);\r\n      callback()\r\n    }\r\n    catch(err){\r\n      handleError(err, sql, params)\r\n      callback(err)\r\n    }\r\n    finally{\r\n      db.close();\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleError(err, sql, params){\r\n\r\n  if(err){\r\n      err.sql = sql\r\n      err.params = params\r\n      console.log(err)\r\n      return true\r\n  }\r\n\r\n  return false\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/repo.js","module.exports = require(\"fs-jetpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-jetpack\"\n// module id = 5\n// module chunks = 0 1","module.exports = {\"name\":\"development\",\"description\":\"Add here any environment specific stuff you like.\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/env_development.json\n// module id = 6\n// module chunks = 0 1","import repo from \"../data/repo\";\r\n\r\nconst getTransactions = function (render_callback) {\r\n\r\n  const sql = `SELECT t.id,\r\n                      p.name as payee,\r\n                      c.name as category,\r\n                      t.transaction_date as date,\r\n                      t.amount,\r\n                      t.memo\r\n                FROM transactions t\r\n                LEFT JOIN categories c\r\n                        ON IFNULL(t.category_id, 'f74a549c-3d46-4efd-95bb-935c642b649b') = c.id\r\n                LEFT JOIN payees p\r\n                        ON t.payee_id = p.id\r\n                ORDER BY t.transaction_date`;\r\n\r\n  const params = []\r\n\r\n  repo.getData(sql, params, function (data) {\r\n    render_callback(data)\r\n  });\r\n}\r\n\r\nconst saveTransaction = function (newTransaction, callback) {\r\n  const sql = `INSERT INTO transactions (id, transaction_date, payee_id, memo, category_id, amount,reference_code)\r\n                  VALUES (?, ?, ?, ?, ?, ?, ?);`\r\n  const params = [newTransaction.id, newTransaction.transaction_date, newTransaction.payee_id, newTransaction.memo, newTransaction.category_id, newTransaction.amount, newTransaction.reference_code]\r\n\r\n  repo.executeStatement(sql, params, function (error) {\r\n    callback(error);\r\n  });\r\n}\r\n\r\n\r\nconst saveOFXTransaction = function (newTransaction, callback) {\r\n  const sql = `INSERT INTO transactions (id, transaction_date, payee_id, memo, category_id, amount,reference_code)\r\n                  SELECT ?, ?, ?, ?, p.default_category_id, ?, ?\r\n                  FROM payees p\r\n                  WHERE p.id = ?;`\r\n\r\n  const params = [newTransaction.id,\r\n  newTransaction.transaction_date,\r\n  newTransaction.payee_id,\r\n  newTransaction.memo,\r\n  newTransaction.amount,\r\n  newTransaction.reference_code,\r\n  newTransaction.payee_id]\r\n\r\n  repo.executeStatement(sql, params, function (error) {\r\n    callback(error);\r\n  });\r\n}\r\n\r\nconst saveQIFTransaction = function (newTransaction, callback) {\r\n  const sql = `INSERT INTO transactions (id, transaction_date, payee_id, memo, category_id, amount, reference_code)\r\n               SELECT ?, ?, ?, ?, ?, ?, ?\r\n               WHERE NOT EXISTS (SELECT 1 FROM transactions WHERE reference_code = ?);`\r\n  const params = [newTransaction.id, newTransaction.transaction_date, newTransaction.payee_id, newTransaction.memo, newTransaction.category_id, newTransaction.amount, newTransaction.reference_code, newTransaction.reference_code]\r\n\r\n  repo.executeStatement(sql, params, function (error) {\r\n    callback(error);\r\n  });\r\n}\r\n\r\nconst saveOFXTransactionPromise = function (transaction) {\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    saveOFXTransaction(transaction, function (error) {\r\n      if (error) {\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve()\r\n    })\r\n  });\r\n}\r\n\r\nconst saveQIFTransactionPromise = function (transaction) {\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    saveQIFTransaction(transaction, function (error) {\r\n      if (error) {\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve()\r\n    })\r\n  });\r\n\r\n}\r\n\r\nconst getTransactionByReferenceCode = function (reference_code, callback) {\r\n\r\n  const sql = `SELECT * FROM transactions WHERE reference_code = ?`\r\n\r\n  const params = [reference_code]\r\n\r\n  repo.getRow(sql, params, function (payee, error) {\r\n    callback(payee, error)\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  getTransactions: getTransactions,\r\n  getTransactionByReferenceCode: getTransactionByReferenceCode,\r\n  saveTransaction: saveTransaction,\r\n  saveOFXTransaction: saveOFXTransaction,\r\n  saveQIFTransaction: saveQIFTransaction,\r\n  saveOFXTransactionPromise: saveOFXTransactionPromise,\r\n  saveQIFTransactionPromise: saveQIFTransactionPromise\r\n\r\n}\r\n\r\n/**** PRIVATE FUNCTIONS ****/\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/transaction.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 8\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/addStyles.js\n// module id = 9\n// module chunks = 0","import utilities from \"../helpers/utilities.js\";\r\nimport repo from \"../data/repo\";\r\nimport enums from \"../helpers/enums.js\"\r\n\r\nconst getCategoryByName = function (category_name, callback) {\r\n\r\n  const sql = `SELECT *\r\n            FROM categories\r\n            WHERE name = ?`\r\n\r\n  const params = [category_name]\r\n\r\n  repo.getRow(sql, params, function (category) {\r\n    callback(category)\r\n  })\r\n}\r\n\r\nconst getAllCategories = function (callback) {\r\n  const sql = `SELECT * FROM categories ORDER BY name`\r\n\r\n  const params = []\r\n\r\n  repo.getData(sql, params, function (categories, error) {\r\n    callback(categories, error)\r\n  });\r\n}\r\n\r\nconst getAllCategoriesPromise = function () {\r\n  return new Promise(function (resolve, reject) {\r\n    getAllCategories(function (categories, error) {\r\n      if (error) {\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve(categories)\r\n    })\r\n  })\r\n}\r\n\r\nconst createCategory = function (category, callback) {\r\n\r\n  const sql = `INSERT INTO categories(id, name) VALUES(?,?)`\r\n\r\n  const params = [category.id, category.name]\r\n\r\n  repo.executeStatement(sql, params, function (error) {\r\n    callback(error);\r\n  });\r\n}\r\n\r\nconst findOrCreateCategory = function (categoryName, callback, categoryLookups) {\r\n\r\n  if (!categoryName || categoryName == \"\") {\r\n    const uncategorized = {\r\n      id: enums.categories.uncategorized,\r\n      name: \"Uncategorized\"\r\n    }\r\n    return callback(uncategorized)\r\n  }\r\n\r\n  const fetchedCategory = categoryLookups && categoryLookups[categoryName]\r\n\r\n  if (fetchedCategory) {\r\n    return callback(fetchedCategory)\r\n  }\r\n\r\n  getCategoryByName(categoryName, function (category) {\r\n    if (category) {\r\n      return callback(category)\r\n    }\r\n\r\n    const newCategory = {\r\n      id: utilities.createGuid(),\r\n      name: categoryName\r\n    }\r\n\r\n    createCategory(newCategory, function (error) {\r\n      if (error) {\r\n        console.error(error)\r\n        callback(null, error)\r\n        return\r\n      }\r\n      if (categoryLookups) {\r\n        categoryLookups[newCategory.name] = newCategory\r\n      }\r\n    })\r\n\r\n    //TODO: handle errors\r\n    callback(newCategory)\r\n  })\r\n}\r\n\r\nconst findOrCreateCategoryPromise = function (categoryName) {\r\n  return new Promise(function (resolve, reject) {\r\n    findOrCreateCategory(categoryName, function (category, error) {\r\n      if (error) {\r\n        console.error(error)\r\n        reject(error)\r\n        return\r\n      }\r\n      resolve(category)\r\n    })\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  getCategoryByName: getCategoryByName,\r\n  getAllCategories: getAllCategories,\r\n  getAllCategoriesPromise: getAllCategoriesPromise,\r\n  findOrCreateCategoryPromise: findOrCreateCategoryPromise,\r\n  findOrCreateCategory: findOrCreateCategory\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/category.js","module.exports = {\r\n  categories: {\"uncategorized\": 'f74a549c-3d46-4efd-95bb-935c642b649b'}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/enums.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 12\n// module chunks = 0","import \"./stylesheets/main.css\";\r\nimport \"../node_modules/js-datepicker/datepicker.css\";\r\n\r\n// Small helpers you might want to keep\r\nimport \"./helpers/context_menu.js\";\r\nimport \"./helpers/external_links.js\";\r\n\r\n// ----------------------------------------------------------------------------\r\n// Everything below is just to show you how it works. You can delete all of it.\r\n// ----------------------------------------------------------------------------\r\n\r\nimport { remote } from \"electron\";\r\nimport jetpack from \"fs-jetpack\";\r\n//import { greet } from \"./hello_world/hello_world\";\r\n//import { register } from \"./hello_world/hello_world\";\r\nimport env from \"env\";\r\n\r\nimport controller from \"./controllers/main\";\r\n//<script src=\"../node_modules/js-datepicker/datepicker.min.js\"></script>\r\n\r\n\r\nconst app = remote.app;\r\nconst appDir = jetpack.cwd(app.getAppPath());\r\n\r\n// Holy crap! This is browser window with HTML and stuff, but I can read\r\n// files from disk like it's node.js! Welcome to Electron world :)\r\nconst manifest = appDir.read(\"package.json\", \"json\");\r\n\r\nconst osMap = {\r\n  win32: \"Windows\",\r\n  darwin: \"macOS\",\r\n  linux: \"Linux\"\r\n};\r\n\r\ndocument.querySelector(\"#app\").style.display = \"block\";\r\n//document.querySelector(\"#greet\").innerHTML = greet();\r\n\r\n//document.querySelector(\"#os\").innerHTML = osMap[process.platform];\r\n//document.querySelector(\"#author\").innerHTML = manifest.author;\r\n//document.querySelector(\"#env\").innerHTML = env.name;\r\n//document.querySelector(\"#electron-version\").innerHTML =\r\n // process.versions.electron;\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./main.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./main.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stylesheets/main.css\n// module id = 19\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html,\\r\\nbody {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\nbody {\\r\\n  /* display: flex; */\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  font-family: sans-serif;\\r\\n  color: #525252;\\r\\n}\\r\\n\\r\\na {\\r\\n  text-decoration: none;\\r\\n  color: #cb3837;\\r\\n}\\r\\n\\r\\ninput:focus::-webkit-input-placeholder { color:transparent; }\\r\\ninput:focus:-moz-placeholder { color:transparent; } /* FF 4-18 */\\r\\ninput:focus::-moz-placeholder { color:transparent; } /* FF 19+ */\\r\\ninput:focus:-ms-input-placeholder { color:transparent; } /* IE 10+ */\\r\\n\\r\\n.container {\\r\\n  text-align: center;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.register{\\r\\n  width: 80%;\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.record {\\r\\n  width: 100%;\\r\\n  border: 1px solid #000000;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.record #date{\\r\\n  width: 15%; display: inline-block;\\r\\n}\\r\\n\\r\\n.record #payee_category_memo{\\r\\n  width: 70%;\\r\\n  display: inline-block;\\r\\n  border-left: 1px solid #000000;\\r\\n  border-right: 1px solid #000000;\\r\\n}\\r\\n\\r\\n.record #category_memo{\\r\\n  border-top: 1px solid #000000;\\r\\n}\\r\\n\\r\\n.record #category_memo #category{\\r\\n  display: inline-block;\\r\\n  border-right: 1px solid #000000;\\r\\n  width: 50%\\r\\n}\\r\\n\\r\\n.record #category_memo #memo{\\r\\n  display: inline-block;\\r\\n  width: 48%;\\r\\n}\\r\\n\\r\\n.record #amount{\\r\\n  display: inline-block;\\r\\n  width: 10%;\\r\\n}\\r\\n\\r\\n.record.header {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.record.input input {\\r\\n  /*color: rgb(185, 178, 178);\\r\\n  font-style: italic;*/\\r\\n  outline: none;\\r\\n  box-shadow: none;\\r\\n  width: 99%;\\r\\n}\\r\\n\\r\\n.record.input #amount{\\r\\n  width: 12%;\\r\\n}\\r\\n\\r\\n.record.input #txt_amount{\\r\\n  width: 30%;\\r\\n}\\r\\n\\r\\n#map_import{\\r\\n  display: none;\\r\\n  position:fixed;\\r\\n  top: 50%;\\r\\n  left: 50%;\\r\\n  width:50em;\\r\\n  height:30em;\\r\\n  margin-top: -15em; /*set to a negative number 1/2 of your height*/\\r\\n  margin-left: -25em; /*set to a negative number 1/2 of your width*/\\r\\n  border: 1px solid #ccc;\\r\\n  background-color: #f3f3f3;\\r\\n}\\r\\n\\r\\n#mappingButtons{\\r\\n  position:absolute;\\r\\n  bottom:0;\\r\\n  right:0;\\r\\n}\\r\\n\\r\\n\\r\\n#transactionMapping{\\r\\n  overflow:scroll;\\r\\n  height: 25em;\\r\\n}\\r\\n\\r\\n#transactionMapping .mappingHeader div{\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n#transactionMapping .mapping div{\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\n#transactionMapping .mapping .sourcePayee{\\r\\n  width: 50%;\\r\\n}\\r\\n\\r\\n#transactionMapping .mapping .targetPayee{\\r\\n  width: 30%;\\r\\n}\\r\\n\\r\\n#transactionMapping .mapping .newPayee{\\r\\n  width: 15%;\\r\\n}\\r\\n\\r\\n#ofx_transactions{\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./src/stylesheets/main.css\n// module id = 20\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/urls.js\n// module id = 21\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../css-loader/index.js!./datepicker.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../css-loader/index.js!./datepicker.css\", function() {\n\t\t\tvar newContent = require(\"!!../css-loader/index.js!./datepicker.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/js-datepicker/datepicker.css\n// module id = 22\n// module chunks = 0","exports = module.exports = require(\"../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".qs-datepicker {\\n  color: black;\\n  position: absolute;\\n  width: 250px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-direction: column;\\n      flex-direction: column;\\n  font-family: sans-serif;\\n  font-size: 14px;\\n  z-index: 9001;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  border: 1px solid gray;\\n  border-radius: 4.22275px;\\n  overflow: hidden;\\n  background: white;\\n  box-shadow: 0 20px 20px -15px rgba(0, 0, 0, 0.3);\\n}\\n.qs-datepicker * {\\n  box-sizing: border-box;\\n}\\n.qs-datepicker.qs-centered {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n.qs-datepicker.qs-hidden {\\n  display: none;\\n}\\n.qs-datepicker .qs-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  background: rgba(0, 0, 0, 0.75);\\n  color: white;\\n  width: 100%;\\n  height: 100%;\\n  padding: .5em;\\n  z-index: 1;\\n  opacity: 1;\\n  transition: opacity 0.3s;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-direction: column;\\n      flex-direction: column;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.qs-datepicker .qs-overlay.qs-hidden {\\n  opacity: 0;\\n  z-index: -1;\\n}\\n.qs-datepicker .qs-overlay .qs-close {\\n  -ms-flex-item-align: end;\\n      align-self: flex-end;\\n  display: inline-table;\\n  padding: .5em;\\n  line-height: .77;\\n  cursor: pointer;\\n  position: absolute;\\n}\\n.qs-datepicker .qs-overlay .qs-overlay-year {\\n  display: block;\\n  border: none;\\n  background: transparent;\\n  border-bottom: 1px solid white;\\n  border-radius: 0;\\n  color: white;\\n  font-size: 14px;\\n  padding: .25em 0;\\n  margin: auto 0 .5em;\\n  width: calc(100% - 1em);\\n}\\n.qs-datepicker .qs-overlay .qs-overlay-year::-webkit-inner-spin-button {\\n  -webkit-appearance: none;\\n}\\n.qs-datepicker .qs-overlay .qs-submit {\\n  border: 1px solid white;\\n  border-radius: 4.22275px;\\n  padding: .5em;\\n  margin: 0 auto auto;\\n  cursor: pointer;\\n  background: rgba(128, 128, 128, 0.4);\\n}\\n.qs-datepicker .qs-overlay .qs-submit.qs-disabled {\\n  color: gray;\\n  border-color: gray;\\n  cursor: not-allowed;\\n}\\n.qs-datepicker .qs-controls {\\n  width: 100%;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: justify;\\n      justify-content: space-between;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  -ms-flex-positive: 1;\\n      flex-grow: 1;\\n  -ms-flex-negative: 0;\\n      flex-shrink: 0;\\n  background: lightgray;\\n  filter: blur(0px);\\n  transition: filter 0.3s;\\n}\\n.qs-datepicker .qs-controls.qs-blur {\\n  filter: blur(5px);\\n}\\n.qs-datepicker .qs-arrow {\\n  height: 25px;\\n  width: 25px;\\n  position: relative;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  transition: background .15s;\\n}\\n.qs-datepicker .qs-arrow:hover {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n.qs-datepicker .qs-arrow:hover.qs-left:after {\\n  border-right-color: black;\\n}\\n.qs-datepicker .qs-arrow:hover.qs-right:after {\\n  border-left-color: black;\\n}\\n.qs-datepicker .qs-arrow:after {\\n  content: '';\\n  border: 6.25px solid transparent;\\n  position: absolute;\\n  top: 50%;\\n  transition: border .2s;\\n}\\n.qs-datepicker .qs-arrow.qs-left:after {\\n  border-right-color: gray;\\n  right: 50%;\\n  transform: translate(25%, -50%);\\n}\\n.qs-datepicker .qs-arrow.qs-right:after {\\n  border-left-color: gray;\\n  left: 50%;\\n  transform: translate(-25%, -50%);\\n}\\n.qs-datepicker .qs-month-year {\\n  font-weight: bold;\\n  transition: border .2s;\\n  border-bottom: 1px solid transparent;\\n  cursor: pointer;\\n}\\n.qs-datepicker .qs-month-year:hover {\\n  border-bottom: 1px solid gray;\\n}\\n.qs-datepicker .qs-month-year:focus,\\n.qs-datepicker .qs-month-year:active:focus {\\n  outline: none;\\n}\\n.qs-datepicker .qs-month {\\n  padding-right: .5ex;\\n}\\n.qs-datepicker .qs-year {\\n  padding-left: .5ex;\\n}\\n.qs-datepicker .qs-squares {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  padding: 5px;\\n  filter: blur(0px);\\n  transition: filter 0.3s;\\n}\\n.qs-datepicker .qs-squares.qs-blur {\\n  filter: blur(5px);\\n}\\n.qs-datepicker .qs-square {\\n  width: 14.28571429%;\\n  height: 25px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  cursor: pointer;\\n  transition: background .1s;\\n  border-radius: 4.22275px;\\n}\\n.qs-datepicker .qs-square.qs-current {\\n  font-weight: bold;\\n}\\n.qs-datepicker .qs-square.qs-active {\\n  background: lightblue;\\n}\\n.qs-datepicker .qs-square.qs-disabled span {\\n  opacity: .2;\\n}\\n.qs-datepicker .qs-square.qs-empty {\\n  cursor: default;\\n}\\n.qs-datepicker .qs-square.qs-disabled {\\n  cursor: not-allowed;\\n}\\n.qs-datepicker .qs-square.qs-day {\\n  cursor: default;\\n  font-weight: bold;\\n  color: gray;\\n}\\n.qs-datepicker .qs-square:not(.qs-empty):not(.qs-disabled):not(.qs-day):hover {\\n  background: orange;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/js-datepicker/datepicker.css\n// module id = 23\n// module chunks = 0","// This gives you default context menu (cut, copy, paste)\r\n// in all input fields and textareas across your app.\r\n\r\nimport { remote } from \"electron\";\r\n\r\nconst Menu = remote.Menu;\r\nconst MenuItem = remote.MenuItem;\r\n\r\nconst isAnyTextSelected = () => {\r\n  return window.getSelection().toString() !== \"\";\r\n};\r\n\r\nconst cut = new MenuItem({\r\n  label: \"Cut\",\r\n  click: () => {\r\n    document.execCommand(\"cut\");\r\n  }\r\n});\r\n\r\nconst copy = new MenuItem({\r\n  label: \"Copy\",\r\n  click: () => {\r\n    document.execCommand(\"copy\");\r\n  }\r\n});\r\n\r\nconst paste = new MenuItem({\r\n  label: \"Paste\",\r\n  click: () => {\r\n    document.execCommand(\"paste\");\r\n  }\r\n});\r\n\r\nconst normalMenu = new Menu();\r\nnormalMenu.append(copy);\r\n\r\nconst textEditingMenu = new Menu();\r\ntextEditingMenu.append(cut);\r\ntextEditingMenu.append(copy);\r\ntextEditingMenu.append(paste);\r\n\r\ndocument.addEventListener(\r\n  \"contextmenu\",\r\n  event => {\r\n    switch (event.target.nodeName) {\r\n      case \"TEXTAREA\":\r\n      case \"INPUT\":\r\n        event.preventDefault();\r\n        textEditingMenu.popup(remote.getCurrentWindow());\r\n        break;\r\n      default:\r\n        if (isAnyTextSelected()) {\r\n          event.preventDefault();\r\n          normalMenu.popup(remote.getCurrentWindow());\r\n        }\r\n    }\r\n  },\r\n  false\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/context_menu.js","// Convenient way for opening links in external browser, not in the app.\r\n// Useful especially if you have a lot of links to deal with.\r\n//\r\n// Usage:\r\n//\r\n// Every link with class \".js-external-link\" will be opened in external browser.\r\n// <a class=\"js-external-link\" href=\"http://google.com\">google</a>\r\n//\r\n// The same behaviour for many links can be achieved by adding\r\n// this class to any parent tag of an anchor tag.\r\n// <p class=\"js-external-link\">\r\n//    <a href=\"http://google.com\">google</a>\r\n//    <a href=\"http://bing.com\">bing</a>\r\n// </p>\r\n\r\nimport { shell } from \"electron\";\r\n\r\nconst supportExternalLinks = event => {\r\n  let href;\r\n  let isExternal = false;\r\n\r\n  const checkDomElement = element => {\r\n    if (element.nodeName === \"A\") {\r\n      href = element.getAttribute(\"href\");\r\n    }\r\n    if (element.classList.contains(\"js-external-link\")) {\r\n      isExternal = true;\r\n    }\r\n    if (href && isExternal) {\r\n      shell.openExternal(href);\r\n      event.preventDefault();\r\n    } else if (element.parentElement) {\r\n      checkDomElement(element.parentElement);\r\n    }\r\n  };\r\n\r\n  checkDomElement(event.target);\r\n};\r\n\r\ndocument.addEventListener(\"click\", supportExternalLinks, false);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/external_links.js","import view from \"../views/main.js\"\r\nimport transaction_service from \"../services/transaction.js\"\r\nimport category_service from \"../services/category.js\"\r\nimport datepicker from \"../../node_modules/js-datepicker/datepicker.min\"\r\nimport utilities from \"../helpers/utilities.js\"\r\nimport payee_service from \"../services/payee.js\"\r\nimport payee_lookup_service from \"../services/payee_lookup.js\"\r\nimport ofxImporter_service from \"../services/ofx_importer.js\"\r\nimport qifImporter_service from \"../services/qif_importer.js\"\r\nimport enums from \"../helpers/enums.js\"\r\n\r\nconst saveTransaction = function () {\r\n\r\n  const ddlCategory = document.getElementById(\"ddlCategory\");\r\n  const category_id = ddlCategory.options[ddlCategory.selectedIndex].value;\r\n\r\n  const transactionDate = utilities.toISODate(new Date(document.querySelector(\"#txt_date\").value))\r\n\r\n  const payeeName = document.querySelector(\"#txt_payee\").value\r\n\r\n  payee_service.findOrCreatePayeeId(payeeName, category_id, function (payee_id) {\r\n\r\n    const newTransaction = {\r\n      \"id\": utilities.createGuid(),\r\n      \"transaction_date\": transactionDate,\r\n      \"payee_id\": payee_id,\r\n      \"category_id\": category_id,\r\n      \"memo\": document.querySelector(\"#txt_memo\").value,\r\n      \"amount\": document.querySelector(\"#txt_amount\").value\r\n    }\r\n\r\n    newTransaction.reference_code = utilities.buildReferenceCode(newTransaction)\r\n\r\n    transaction_service.saveTransaction(newTransaction, function (response) {\r\n      loadTransactions()\r\n      resetInput()\r\n    })\r\n  })\r\n}\r\n\r\nconst mapOFXTransactions = function (filename) {\r\n\r\n  const payeesPromise = payee_service.getAllPayeesPromise()\r\n\r\n  const categoriesPromise = category_service.getAllCategoriesPromise()\r\n\r\n  const transactionPromise = new Promise(function (resolve, reject) {\r\n    const filename = '../src/data/samples/suntrust_export.ofx'\r\n    ofxImporter_service.parseOFXfile(filename, resolve)\r\n  });\r\n\r\n  const promises = [payeesPromise, categoriesPromise, transactionPromise]\r\n\r\n  Promise.all(promises).then(function (values) {\r\n    const payees = values[0]\r\n    const categories = values[1]\r\n    const transactions = values[2]\r\n\r\n    view.render_transaction_mapping(payees, categories, transactions)\r\n  });\r\n}\r\n\r\nconst saveOFXTransactions = function () {\r\n  const str_ofx_transactions = document.getElementById('ofx_transactions').getAttribute(\"data-transactions\");\r\n  const ofx_transactions = JSON.parse(str_ofx_transactions)\r\n\r\n  const mappingDivs = document.getElementsByClassName('mapping')\r\n\r\n  let transactionsToCreate = false\r\n\r\n  let payeePromises = [];\r\n\r\n  //iterate through the mapping rows (divs)\r\n  for (let i = 0; i < mappingDivs.length; i++) {\r\n    var transDiv = mappingDivs[i]\r\n    const reference_code = transDiv.getAttribute(\"data-reference_code\").trim()\r\n\r\n    transaction_service.getTransactionByReferenceCode(reference_code, function (existingTransaction) {\r\n\r\n      if (existingTransaction) {\r\n        //transaction exists...bail\r\n        return\r\n      }\r\n\r\n      transactionsToCreate = true;\r\n\r\n      //TODO: check for null references?\r\n      const targetDiv = transDiv.getElementsByClassName(\"targetPayee\")\r\n      const targetSelect = targetDiv[0].getElementsByClassName(\"ddlPayee\")[0]\r\n      const payee_id = targetSelect == null ? -1 : targetSelect.value\r\n\r\n      //iterate through transactions, find this reference_code and set the payee_id\r\n      for (let i = 0; i < ofx_transactions.length; i++) {\r\n        const transaction = ofx_transactions[i]\r\n\r\n        if (transaction.reference_code == reference_code) {\r\n          if (payee_id == -1) {\r\n            //payee was not selected\r\n            const new_payee_id = utilities.createGuid()\r\n            const payee = { id: new_payee_id, name: transaction.payee, defaultCategoryId: enums.categories.uncategorized }\r\n            transaction.payee_id = new_payee_id\r\n            payeePromises.push(payee_service.createPayeePromise(payee))\r\n          }\r\n          else {\r\n            //payee was selected\r\n            transaction.payee_id = targetSelect.value\r\n\r\n            //create a lookup for the payee if it does not already exist\r\n            const payeeLookup = {\r\n              \"id\": utilities.createGuid(),\r\n              \"payee_id\": targetSelect.value,\r\n              \"reference_name\": transaction.payee\r\n            }\r\n\r\n            payee_lookup_service.createPayeeLookup(payeeLookup, function (error) {\r\n              if (error) {\r\n                console.log(error)\r\n              }\r\n            })\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  if (transactionsToCreate) {\r\n\r\n    console.log(\"CREATING TRANSACTIONS\")\r\n    console.dir(payeePromises)\r\n    //save OFX transactions\r\n    Promise.all(payeePromises).then(function (resolve) {\r\n\r\n      var ofx_transaction_promises = []\r\n\r\n      for (let i = 0; i < ofx_transactions.length; i++) {\r\n        let transaction = ofx_transactions[i]\r\n        transaction.id = utilities.createGuid()\r\n        const promise = transaction_service.saveOFXTransactionPromise(transaction)\r\n\r\n        ofx_transaction_promises.push(promise)\r\n      }\r\n\r\n      console.dir(ofx_transaction_promises)\r\n\r\n      Promise.all(ofx_transaction_promises).then(function (resolve) {\r\n        loadTransactions()\r\n        closeMappingWindow()\r\n      })\r\n    })\r\n  }\r\n  else {\r\n    closeMappingWindow()\r\n  }\r\n}\r\n\r\nconst newPayee = function () {\r\n  alert(\"new payee\")\r\n}\r\n\r\nconst importQIF = function () {\r\n  const filename = '../src/data/samples/2018.qif'\r\n  qifImporter_service.importQIFfile(filename, function () {\r\n    loadTransactions()\r\n  })\r\n}\r\n\r\n/**** PRIVATE FUNCTIONS ****/\r\nfunction resetInput() {\r\n  document.querySelector(\"#txt_date\").value = utilities.toMMDDYYYY(new Date())\r\n  document.querySelector(\"#txt_payee\").value = \"\"\r\n  document.getElementById(\"ddlCategory\").selectedIndex = 0\r\n  document.querySelector(\"#txt_memo\").value = \"\"\r\n  document.querySelector(\"#txt_amount\").value = \"\"\r\n}\r\n\r\nfunction wireUpEvents() {\r\n  const postButton = document.getElementById(\"btn_post\")\r\n  postButton.addEventListener(\"click\", saveTransaction)\r\n\r\n  const importButton = document.getElementById(\"btn_mapTransactions\")\r\n  importButton.addEventListener(\"click\", mapOFXTransactions)\r\n\r\n  const importQIFButton = document.getElementById(\"btn_importQIF\")\r\n  importQIFButton.addEventListener(\"click\", importQIF)\r\n\r\n  var newPayeeLinks = document.getElementsByClassName(\"lnk_newPayee\");\r\n  for (let i = 0, len = newPayeeLinks.length; i < len;) {\r\n    lnkNewPayee = newPayeeLinks[i]\r\n    lnkNewPayee.addEventListener(\"click\", newPayee)\r\n  }\r\n\r\n  const saveOFXTransactionsButton = document.getElementById(\"btn_save_OFX_transactions\")\r\n  saveOFXTransactionsButton.addEventListener(\"click\", saveOFXTransactions)\r\n\r\n  const cancelOFXButton = document.getElementById(\"btn_cancel_OFX\")\r\n  cancelOFXButton.addEventListener(\"click\", closeMappingWindow)\r\n}\r\n\r\nfunction populateElements() {\r\n  loadTransactions()\r\n\r\n  buildDatePicker()\r\n\r\n  buildCategoryList()\r\n}\r\n\r\nfunction loadTransactions() {\r\n  transaction_service.getTransactions(view.render_transactions)\r\n}\r\n\r\nfunction closeMappingWindow() {\r\n  let map_import = document.querySelector(\"#map_import\")\r\n  map_import.style.display = \"none\"\r\n}\r\n\r\nfunction buildDatePicker() {\r\n  const options = {\r\n    dateSelected: new Date(),\r\n    formatter: function (el, date) {\r\n      const formattedDate = utilities.toMMDDYYYY(date)\r\n      el.value = formattedDate;\r\n    }\r\n  }\r\n\r\n  datepicker('#txt_date', options);\r\n}\r\n\r\n\r\nfunction buildCategoryList() {\r\n  category_service.getAllCategories(function (categories) {\r\n    const options = view.buildCategoryOptions(categories)\r\n    document.querySelector(\"#ddlCategory\").innerHTML = options\r\n  })\r\n}\r\n\r\n//on_load...this is probably a terrible way to do this\r\n(function onLoad() {\r\n  wireUpEvents()\r\n  populateElements()\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/main.js","import utilities from \"../helpers/utilities.js\"\r\nimport payee from \"../services/payee.js\"\r\n\r\nconst buildPayeeOptions = function(payees, payee_id){\r\n\r\n    let options = \"<option value='-1'>Use source payee...</option>\"\r\n\r\n    for (let i = 0, len = payees.length; i < len; i++) {\r\n      const payee = payees[i]\r\n\r\n      const selected = payee.id == payee_id ? \"selected\" : \"\"\r\n\r\n      const option = \"<option value='\"+ payee.id +\"'\" + selected + \">\" + payee.name + \"</option>\"\r\n      options += option\r\n    }\r\n\r\n    return options\r\n  }\r\n\r\nmodule.exports = {\r\n\r\n  render_transactions: function(transactions){\r\n    let html = \"\";\r\n\r\n    for (let i = 0, len = transactions.length; i < len; i++) {\r\n\r\n      const transaction = transactions[i];\r\n\r\n      const transactionDate = utilities.toMMDDYYYY(new Date(transaction.date))\r\n\r\n      let record = `<div class=\"record\">\r\n          <div id=\"date\">${transactionDate}</div>\r\n          <div id=\"payee_category_memo\">\r\n            <div id=\"payee\" >${transaction.payee}</div>\r\n            <div id=\"category_memo\">\r\n              <div id=\"category\">${transaction.category}</div>\r\n              <div id=\"memo\">${utilities.nullToSpace(transaction.memo)}</div>\r\n            </div>\r\n          </div>\r\n          <div id=\"amount\">${transaction.amount}</div>\r\n        </div>`;\r\n\r\n      html += record\r\n    }\r\n\r\n    document.querySelector(\"#transactions\").innerHTML = html;\r\n  },\r\n  render_transaction_mapping: function(payees, categories, transactions){\r\n\r\n      let map_import = document.querySelector(\"#map_import\")\r\n      map_import.style.display = \"inline\"\r\n\r\n      let html = `<div id=\"ofx_transactions\" data-transactions='${JSON.stringify(transactions)}'></div>\r\n                  <div class=\"mappingHeader\">\r\n                    <div class=\"sourcePayee\">Source Payee</div>\r\n                    <div class=\"targetPayee\">Target Payee</div>\r\n                  </div>`\r\n\r\n      let distinctPayees = []\r\n\r\n      for (let i = 0, len = transactions.length; i < len; i++) {\r\n\r\n          const transaction = transactions[i]\r\n\r\n          if(distinctPayees.indexOf(transaction.payee) > 0){\r\n            continue;\r\n          }\r\n\r\n          distinctPayees.push(transaction.payee)\r\n\r\n          const row = `<div class=\"mapping\" data-reference_code=\"${transaction.reference_code}\">\r\n                          <div class=\"sourcePayee\">${transaction.payee}</div>\r\n                          <div class=\"targetPayee\"><select class=\"ddlPayee\">${buildPayeeOptions(payees, transaction.payee_id)} </select></div>\r\n                          <div class=\"newPayee\"><a id=\"newPayee${i}\" href=\"#\" class=\"lnk_newPayee\">New Payee</a></div>\r\n                        </div>`\r\n          html += row\r\n      }\r\n\r\n      document.querySelector(\"#transactionMapping\").innerHTML = html;\r\n  },\r\n  buildCategoryOptions: function(categories){\r\n\r\n    let options = \"<option value=''>Select a category...</option>\"\r\n\r\n    for (let i = 0, len = categories.length; i < len; i++) {\r\n      const category = categories[i]\r\n\r\n      const option = \"<option value='\"+ category.id +\"'>\" + category.name + \"</option>\"\r\n      options += option\r\n    }\r\n\r\n    return options\r\n  },\r\n  buildPayeeOptions: buildPayeeOptions\r\n};\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/main.js","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"better-sqlite3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"better-sqlite3\"\n// module id = 29\n// module chunks = 0","!function(t,e){var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};\"object\"===(\"undefined\"==typeof exports?\"undefined\":n(exports))?module.exports=e():\"function\"==typeof define&&define.amd?define(function(){return e()}):t.datepicker=e()}(this,function(){\"use strict\";function t(t,a){var s=t.split?document.querySelector(t):t;a=e(a||n(),s,t);var r=s.parentElement,i=document.createElement(\"div\"),c=a,u=c.startDate,d=c.dateSelected,p=s===document.body||s===document.querySelector(\"html\"),v={el:s,parent:r,nonInput:\"INPUT\"!==s.nodeName,noPosition:p,position:!p&&a.position,startDate:u,dateSelected:d,disabledDates:a.disabledDates,minDate:a.minDate,maxDate:a.maxDate,noWeekends:!!a.noWeekends,calendar:i,currentMonth:(u||d).getMonth(),currentMonthName:(a.months||w)[(u||d).getMonth()],currentYear:(u||d).getFullYear(),setDate:h,reset:f,remove:y,onSelect:a.onSelect,onShow:a.onShow,onHide:a.onHide,onMonthChange:a.onMonthChange,formatter:a.formatter,months:a.months||w,days:a.customDays||g,startDay:a.startDay,overlayPlaceholder:a.overlayPlaceholder||\"4-digit year\",overlayButton:a.overlayButton||\"Submit\",disableMobile:a.disableMobile,isMobile:\"ontouchstart\"in window};return d&&l(s,v),i.classList.add(\"qs-datepicker\"),i.classList.add(\"qs-hidden\"),b.push(s),o(u||d,v),S.forEach(function(t){window.addEventListener(t,D.bind(v))}),\"static\"===getComputedStyle(r).position&&(r.style.position=\"relative\"),r.appendChild(i),v}function e(t,e){if(b.includes(e))throw\"A datepicker already exists on that element.\";var n=t.position,o=t.maxDate,s=t.minDate,r=t.dateSelected,i=t.formatter,c=t.customMonths,l=t.customDays,u=t.overlayPlaceholder,d=t.overlayButton,h=t.startDay,f=t.disabledDates,y=+v(r);if(t.disabledDates=(f||[]).map(function(t){if(!p(t))throw'You supplied an invalid date to \"options.disabledDates\".';if(+v(t)===y)throw'\"disabledDates\" cannot contain the same date as \"dateSelected\".';return+v(t)}),n){if(![\"tr\",\"tl\",\"br\",\"bl\",\"c\"].some(function(t){return n===t}))throw'\"options.position\" must be one of the following: tl, tr, bl, br, or c.';t.position=a(n)}else t.position=a(\"bl\");if([\"startDate\",\"dateSelected\",\"minDate\",\"maxDate\"].forEach(function(e){if(t[e]){if(!p(t[e])||isNaN(+t[e]))throw'\"options.'+e+'\" needs to be a valid JavaScript Date object.';t[e]=v(t[e])}}),t.startDate=v(t.startDate||t.dateSelected||new Date),t.formatter=\"function\"==typeof i?i:null,o<s)throw'\"maxDate\" in options is less than \"minDate\".';if(r){if(s>r)throw'\"dateSelected\" in options is less than \"minDate\".';if(o<r)throw'\"dateSelected\" in options is greater than \"maxDate\".'}if([\"onSelect\",\"onShow\",\"onHide\",\"onMonthChange\"].forEach(function(e){t[e]=\"function\"==typeof t[e]&&t[e]}),[c,l].forEach(function(e,n){if(e){var a=['\"customMonths\" must be an array with 12 strings.','\"customDays\" must be an array with 7 strings.'];if(\"[object Array]\"!=={}.toString.call(e)||e.length!==(n?7:12))throw a[n];t[n?\"days\":\"months\"]=e}}),void 0!==h&&+h&&+h>0&&+h<7){var m=(t.customDays||g).slice(),q=m.splice(0,h);t.customDays=m.concat(q),t.startDay=+h}else t.startDay=0;return[u,d].forEach(function(e,n){e&&e.split&&(n?t.overlayButton=e:t.overlayPlaceholder=e)}),t}function n(){return{startDate:v(new Date),position:\"bl\"}}function a(t){var e={};return e[M[t[0]]]=1,\"c\"===t?e:(e[M[t[1]]]=1,e)}function o(t,e){var n=s(t,e),a=r(t,e),o=i(e);e.calendar.innerHTML=n+a+o}function s(t,e){return'\\n      <div class=\"qs-controls\">\\n        <div class=\"qs-arrow qs-left\"></div>\\n        <div class=\"qs-month-year\">\\n          <span class=\"qs-month\">'+e.months[t.getMonth()]+'</span>\\n          <span class=\"qs-year\">'+t.getFullYear()+'</span>\\n        </div>\\n        <div class=\"qs-arrow qs-right\"></div>\\n      </div>\\n    '}function r(t,e){var n=e.minDate,a=e.maxDate,o=e.dateSelected,s=e.currentYear,r=e.currentMonth,i=e.noWeekends,c=e.days,l=e.disabledDates,u=new Date,d=u.toJSON().slice(0,7)===t.toJSON().slice(0,7),h=new Date(new Date(t).setDate(1)),f=h.getDay()-e.startDay,p=f<0?7:0;h.setMonth(h.getMonth()+1),h.setDate(0);var y=h.getDate(),m=[],q=p+7*((f+y)/7|0);q+=(f+y)%7?7:0,0!==e.startDay&&0===f&&(q+=7);for(var D=1;D<=q;D++){var b=c[(D-1)%7],S=D-(f>=0?f:7+f),g=new Date(s,r,S),w=S<1||S>y,M=\"\",L='<span class=\"qs-num\">'+S+\"</span>\";if(w)M=\"qs-empty\",L=\"\";else{var N=n&&g<n||a&&g>a||l.includes(+v(g)),x=c[6],Y=c[0],C=b===x||b===Y,P=d&&!N&&S===u.getDate();N=N||i&&C,M=N?\"qs-disabled\":P?\"qs-current\":\"\"}+g!=+o||w||(M+=\" qs-active\"),m.push('<div class=\"qs-square qs-num '+b+\" \"+M+'\">'+L+\"</div>\")}var k=c.map(function(t){return'<div class=\"qs-square qs-day\">'+t+\"</div>\"}).concat(m);if(k.length%7!=0)throw\"Calendar not constructed properly. The # of squares should be a multiple of 7.\";return k.unshift('<div class=\"qs-squares\">'),k.push(\"</div>\"),k.join(\"\")}function i(t){return'\\n      <div class=\"qs-overlay qs-hidden\">\\n        <div class=\"qs-close\">&#10005;</div>\\n        <input type=\"number\" class=\"qs-overlay-year\" placeholder=\"'+t.overlayPlaceholder+'\" />\\n        <div class=\"qs-submit qs-disabled\">'+t.overlayButton+\"</div>\\n      </div>\\n    \"}function c(t,e){var n=e.currentMonth,a=e.currentYear,o=e.calendar,s=e.el,r=e.onSelect,i=o.querySelector(\".qs-active\"),c=t.textContent;e.dateSelected=new Date(a,n,c),i&&i.classList.remove(\"qs-active\"),t.classList.add(\"qs-active\"),l(s,e),m(e),r&&r(e)}function l(t,e){if(!e.nonInput)return e.formatter?e.formatter(t,e.dateSelected):void(t.value=e.dateSelected.toDateString())}function u(t,e,n){n?e.currentYear=n:(e.currentMonth+=t.contains(\"qs-right\")?1:-1,12===e.currentMonth?(e.currentMonth=0,e.currentYear++):-1===e.currentMonth&&(e.currentMonth=11,e.currentYear--)),o(new Date(e.currentYear,e.currentMonth,1),e),e.currentMonthName=e.months[e.currentMonth],e.onMonthChange&&e.onMonthChange(e)}function d(t){if(!t.noPosition){var e=t.el,n=t.calendar,a=t.position,o=t.parent,s=a.top,r=a.right;if(a.centered)return n.classList.add(\"qs-centered\");var i=o.getBoundingClientRect(),c=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=c.top-i.top+o.scrollTop,d=\"\\n      top:\"+(u-(s?l.height:-1*c.height))+\"px;\\n      left:\"+(c.left-i.left+(r?c.width-l.width:0))+\"px;\\n    \";n.setAttribute(\"style\",d)}}function h(t,e){if(!p(t))throw\"`setDate` needs a JavaScript Date object.\";t=v(t),this.currentYear=t.getFullYear(),this.currentMonth=t.getMonth(),this.currentMonthName=this.months[t.getMonth()],this.dateSelected=e?void 0:t,!e&&l(this.el,this),o(t,this),e&&(this.el.value=\"\")}function f(){this.setDate(this.startDate,!0)}function p(t){return[\"[object Date]\"==={}.toString.call(t),\"Invalid Date\"!==t.toString()].every(Boolean)}function v(t){return t?new Date(t.toDateString()):t}function y(){var t=this.calendar,e=this.parent,n=this.el;S.forEach(function(t){window.removeEventListener(t,D)}),t.remove(),t.hasOwnProperty(\"parentStyle\")&&(e.style.position=\"\"),b=b.filter(function(t){return t!==n})}function m(t){t.calendar.classList.add(\"qs-hidden\"),t.onHide&&t.onHide(t)}function q(t){t.calendar.classList.remove(\"qs-hidden\"),d(t),t.onShow&&t.onShow(t)}function D(t){function e(e){var o=e.calendar,s=l.classList,r=o.querySelector(\".qs-month-year\"),d=s.contains(\"qs-close\");if(s.contains(\"qs-num\")){var h=\"SPAN\"===l.nodeName?l.parentNode:l;![\"qs-disabled\",\"qs-active\",\"qs-empty\"].some(function(t){return h.classList.contains(t)})&&c(h,e)}else if(s.contains(\"qs-arrow\"))u(s,e);else if(i.includes(r)||d)n(o,d,e);else if(l.classList.contains(\"qs-submit\")){var f=o.querySelector(\".qs-overlay-year\");a(t,f,e)}}function n(t,e,n){[\".qs-overlay\",\".qs-controls\",\".qs-squares\"].forEach(function(e,n){t.querySelector(e).classList.toggle(n?\"qs-blur\":\"qs-hidden\")});var a=t.querySelector(\".qs-overlay-year\");e?a.value=\"\":a.focus()}function a(t,e,n){var a=isNaN((new Date).setFullYear(e.value||void 0));if(13===t.which||\"click\"===t.type){if(a||e.classList.contains(\"qs-disabled\"))return;u(null,n,e.value)}else{n.calendar.querySelector(\".qs-submit\").classList[a?\"add\":\"remove\"](\"qs-disabled\")}}if(!this.isMobile||!this.disableMobile){if(!t.path){for(var o=t.target,s=[];o!==document;)s.push(o),o=o.parentNode;t.path=s}var r=t.type,i=t.path,l=t.target,d=this.calendar,h=this.el,f=d.classList,p=f.contains(\"qs-hidden\"),v=i.includes(d);if(\"keydown\"===r){var y=d.querySelector(\".qs-overlay\"),D=!y.classList.contains(\"qs-hidden\");if(13===t.which&&D)return t.stopPropagation(),a(t,l,this);if(27===t.which&&D)return n(d,!0,this);if(9!==t.which)return}if(\"focusin\"===r)return l===h&&q(this);this.noPosition?v?e(this):p?q(this):m(this):p?l===h&&q(this):\"click\"===r&&v?e(this):\"input\"===r?a(t,l,this):l!==h&&m(this)}}Array.prototype.includes||(Array.prototype.includes=function(t){return this.reduce(function(e,n){return e||n===t},!1)});var b=[],S=[\"click\",\"focusin\",\"keydown\",\"input\"],g=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],w=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],M={t:\"top\",r:\"right\",b:\"bottom\",l:\"left\",c:\"centered\"};return t});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/js-datepicker/datepicker.min.js\n// module id = 30\n// module chunks = 0","import repo from \"../data/repo\";\r\nimport utilities from \"../helpers/utilities.js\";\r\n\r\nconst createPayeeLookup = function(payeeLookup, callback){\r\n\r\n    const sql = `INSERT INTO payee_lookup(id, payee_id, reference_name)\r\n                SELECT ?,?,?\r\n                WHERE NOT EXISTS (SELECT * FROM payee_lookup WHERE reference_name = ?)`\r\n\r\n    const params = [payeeLookup.id, payeeLookup.payee_id, payeeLookup.reference_name, payeeLookup.reference_name]\r\n\r\n    repo.executeStatement(sql, params, function(error){\r\n        callback(error);\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n  createPayeeLookup: createPayeeLookup\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/payee_lookup.js","import payee from \"../services/payee.js\"\r\nimport transaction_service from \"../services/transaction.js\"\r\nimport utilities from \"../helpers/utilities.js\"\r\n\r\nfunction getElement(strTransaction, strElement){\r\n  strElement = \"<\" + strElement + \">\"\r\n  let element = strTransaction.substring(strTransaction.indexOf(strElement) + strElement.length)\r\n  element = element.substring(0, element.indexOf(\"<\") - 1) //remove carriage return\r\n  return element\r\n}\r\n\r\nfunction parseTransaction(strTransaction){\r\n\r\n  const transaction_date = utilities.parseOFXDate(getElement(strTransaction, \"DTPOSTED\"))\r\n\r\n  const transaction = {\r\n    transaction_type: getElement(strTransaction, \"TRNTYPE\").trim(),\r\n    transaction_date: transaction_date.trim(),\r\n    amount: getElement(strTransaction, \"TRNAMT\").trim(),\r\n    payee: getElement(strTransaction, \"NAME\").trim(),\r\n  }\r\n\r\n  const ofx_code = getElement(strTransaction, \"REFNUM\").trim()\r\n\r\n  transaction.reference_code = ofx_code != \"\" ? ofx_code : utilities.buildReferenceCode(transaction)\r\n\r\n  return transaction\r\n}\r\n\r\nfunction isValidTransaction(transaction){\r\n\r\n    if(transaction.reference_code == \"\"){\r\n      return false\r\n    }\r\n\r\n    if(transaction.amount == \"\"){\r\n      return false\r\n    }\r\n\r\n    if(transaction.payee == \"\"){\r\n      return false\r\n    }\r\n\r\n    return true\r\n}\r\n\r\nconst parseOFXfile = function(filename, callback){\r\n  const fs = require('fs');\r\n  const path = require('path')\r\n  const filepath = path.resolve(__dirname, filename)\r\n\r\n  fs.readFile(filepath, 'utf-8', (err, data) => {\r\n      if(err){\r\n          alert(\"An error ocurred reading the file :\" + err.message);\r\n          return;\r\n      }\r\n\r\n      const ofx = data.substring(data.indexOf(\"<OFX>\"), data.length)\r\n      const banktranlist = ofx.substring(ofx.indexOf(\"<BANKTRANLIST>\"), ofx.indexOf(\"</BANKTRANLIST>\") + 16)\r\n      const str_transactions = banktranlist.substring(banktranlist.indexOf(\"<STMTTRN>\"), banktranlist.length - 16)\r\n\r\n      const ofx_transactions = str_transactions.split(\"<STMTTRN>\");\r\n\r\n      let promises = []\r\n\r\n      for (let i = 0, len = ofx_transactions.length; i < len; i++) {\r\n\r\n          let newTransaction = parseTransaction(ofx_transactions[i])\r\n\r\n          if(isValidTransaction(newTransaction)){\r\n            const promise = new Promise(function(resolve, reject) {\r\n              payee.findPayeeId(newTransaction.payee, function(payeeId){\r\n                newTransaction.payee_id = payeeId\r\n                resolve(newTransaction)\r\n              })\r\n            });\r\n            promises.push(promise)\r\n          }\r\n      }\r\n\r\n       Promise.all(promises).then(function(transactions){\r\n          callback(transactions)\r\n       })\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  parseOFXfile: parseOFXfile\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/ofx_importer.js","import utilities from \"../helpers/utilities.js\";\r\nimport payee_service from \"../services/payee.js\"\r\nimport category_service from \"../services/category.js\"\r\nimport transaction_service from \"../services/transaction.js\"\r\n\r\nconst importQIFfile = function (filename, callback) {\r\n\r\n    const fs = require('fs');\r\n    const path = require('path')\r\n    const filepath = path.resolve(__dirname, filename)\r\n\r\n    let categoryLookups;\r\n\r\n    buildCategoryLookup(function (data) {\r\n        categoryLookups = data\r\n    })\r\n\r\n    fs.readFile(filepath, 'utf-8', (err, data) => {\r\n        if (err) {\r\n            alert(\"An error ocurred reading the file :\" + err.message);\r\n            return;\r\n        }\r\n\r\n        let all_transactions = data.substring(data.indexOf(\"D\") - 1, data.length)\r\n        const arr_str_transactions = all_transactions.split(\"^\")\r\n\r\n        let parseTransactionPromises = []\r\n        for (let i = 0; i < arr_str_transactions.length; i++) {\r\n\r\n            let transaction_elements = arr_str_transactions[i].split(/\\r?\\n/)\r\n            let parsedTransaction = {}\r\n\r\n            for (let i = 0; i < transaction_elements.length; i++) {\r\n\r\n                let transaction_element = transaction_elements[i]\r\n\r\n                switch (transaction_element.substring(0, 1)) {\r\n                    case \"D\":\r\n                        parsedTransaction.transaction_date = parseDate(transaction_element)\r\n                        break;\r\n                    case \"U\":\r\n                        parsedTransaction.amount = transaction_element.replace(\"U\", \"\")\r\n                        break;\r\n                    case \"P\":\r\n                        parsedTransaction.payee_name = transaction_element.replace(\"P\", \"\")\r\n                        break;\r\n                    case \"L\":\r\n                        parsedTransaction.category_name = transaction_element.replace(\"L\", \"\")\r\n                        break;\r\n                    case \"M\":\r\n                        parsedTransaction.memo = transaction_element.replace(\"M\", \"\")\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n\r\n            if (parsedTransaction.payee_name) {\r\n                parsedTransaction.id = utilities.createGuid()\r\n                parsedTransaction.reference_code = utilities.buildReferenceCode(parsedTransaction)\r\n                parseTransactionPromises.push(populateTransactionPromise(parsedTransaction, categoryLookups))\r\n            }\r\n        }\r\n\r\n        Promise.all(parseTransactionPromises).then(function (qif_transactions) {\r\n\r\n            let qifTransactionPromises = []\r\n            for (let i = 0; i < qif_transactions.length; i++) {\r\n                const qifTransaction = qif_transactions[i]\r\n                qifTransactionPromises.push(transaction_service.saveQIFTransactionPromise(qifTransaction))\r\n            }\r\n            Promise.all(qifTransactionPromises).then(callback())\r\n        })\r\n    })\r\n\r\n}\r\n\r\nmodule.exports = {\r\n    importQIFfile: importQIFfile\r\n}\r\n\r\nfunction parseDate(strDate) {\r\n    return strDate.replace(\"D\", \"\").replace(\"'\", \"/\").replace(\" \", \"\")\r\n}\r\n\r\nfunction populateTransactionPromise(parsedTransaction, categoryLookups) {\r\n\r\n    //TODO: handle errors\r\n    return new Promise(function (resolve, reject) {\r\n\r\n        const payeeCallback = function (payee) {\r\n            parsedTransaction.payee_id = payee.id\r\n            resolve(parsedTransaction)\r\n        }\r\n\r\n        const categoryCallback = function (category) {\r\n            parsedTransaction.category_id = category.id\r\n            payee_service.findOrCreatePayee(parsedTransaction.payee_name, category.id, payeeCallback)\r\n        }\r\n\r\n        category_service.findOrCreateCategory(parsedTransaction.category_name, categoryCallback, categoryLookups)\r\n    })\r\n}\r\n\r\nfunction buildCategoryLookup(callback) {\r\n\r\n    category_service.getAllCategories(function (categories) {\r\n        let categoryLookups = {}\r\n        for (let i = 0; i < categories.length; i++) {\r\n            const category = categories[i];\r\n            categoryLookups[category.name] = category\r\n        }\r\n        callback(categoryLookups)\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/qif_importer.js"],"sourceRoot":""}